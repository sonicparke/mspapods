{"meta":{"version":"2.6.8","build":1490458937},"pods":{"644":{"id":644,"name":"camp_location","label":"Camp Locations","description":"","type":"pod","storage":"table","object":"","alias":"","fields":{"name":{"id":645,"name":"name","label":"Name","description":"","help":"","class":"","type":"text","weight":0,"pick_object":"","pick_val":"","sister_id":"","required":"1","unique":"0","text_repeatable":"0","text_allowed_html_tags":"strong em a ul ol li b i","text_max_length":"255"},"created":{"id":646,"name":"created","label":"Date Created","description":"","help":"","class":"","type":"datetime","weight":1,"pick_object":"","pick_val":"","sister_id":"","datetime_format":"ymd_slash","datetime_time_type":"12","datetime_time_format":"h_mm_ss_A","required":"0","unique":"0","datetime_repeatable":"0","datetime_time_format_24":"hh_mm","datetime_allow_empty":"1","datetime_html5":"0"},"modified":{"id":647,"name":"modified","label":"Date Modified","description":"","help":"","class":"","type":"datetime","weight":2,"pick_object":"","pick_val":"","sister_id":"","datetime_format":"ymd_slash","datetime_time_type":"12","datetime_time_format":"h_mm_ss_A","required":"0","unique":"0","datetime_repeatable":"0","datetime_time_format_24":"hh_mm","datetime_allow_empty":"1","datetime_html5":"0"},"author":{"id":648,"name":"author","label":"Author","description":"","help":"","class":"","type":"pick","weight":3,"pick_object":"user","pick_val":"","sister_id":"","pick_format_type":"single","pick_format_single":"autocomplete","default_value":"{@user.ID}","required":"0","unique":"0","pick_format_multi":"checkbox","pick_limit":"0","pick_taggable":0,"pick_select_text":"","pick_allow_html":0,"pick_table_id":"","pick_table_index":"","pick_display":"","pick_user_role":"","pick_where":"","pick_orderby":"","pick_groupby":"","pick_post_status":"publish"},"permalink":{"id":649,"name":"permalink","label":"Permalink","description":"Leave blank to auto-generate from Name","help":"","class":"","type":"slug","weight":4,"pick_object":"","pick_val":"","sister_id":"","required":"0","unique":"0"},"url":{"id":763,"name":"url","label":"url","description":"","help":"","class":"","type":"text","weight":5,"pick_object":"","pick_val":"","sister_id":"","required":"0","unique":"0","text_allow_shortcode":"0","text_allow_html":"0","text_allowed_html_tags":"strong em a ul ol li b i","text_max_length":"255","admin_only":"0","restrict_role":"0","restrict_capability":"0","hidden":"0","read_only":"0","roles_allowed":["administrator"],"text_repeatable":0}},"show_in_menu":"1","label_singular":"Camp Location","pod_index":"name","hierarchical":"0","ui_style":"post_type","menu_position":"0","ui_actions_enabled":["add","edit","duplicate","delete"],"ui_reorder_field":"menu_order","ui_fields_manage":{"0":"name","2":"modified"}},"650":{"id":650,"name":"camp","label":"Camps","description":"","type":"pod","storage":"table","object":"","alias":"","fields":{"name":{"id":651,"name":"name","label":"Name","description":"","help":"","class":"","type":"text","weight":0,"pick_object":"","pick_val":"","sister_id":"","required":"1","unique":"0","text_repeatable":"0","text_allowed_html_tags":"strong em a ul ol li b i","text_max_length":"255"},"camp_location":{"id":671,"name":"camp_location","label":"Camp Location","description":"","help":"","class":"","type":"pick","weight":1,"pick_object":"pod","pick_val":"camp_location","sister_id":"","required":"0","unique":"0","pick_format_type":"single","pick_format_single":"radio","pick_format_multi":"checkbox","pick_limit":"0","pick_user_role":[],"admin_only":"0","restrict_role":"0","restrict_capability":"0","hidden":"0","read_only":"0","roles_allowed":["administrator"],"pick_taggable":0,"pick_select_text":"","pick_allow_html":0,"pick_table_id":"","pick_table_index":"","pick_display":"","pick_where":"","pick_orderby":"","pick_groupby":"","pick_post_status":"publish"},"created":{"id":652,"name":"created","label":"Date Created","description":"","help":"","class":"","type":"datetime","weight":2,"pick_object":"","pick_val":"","sister_id":"","datetime_format":"ymd_slash","datetime_time_type":"12","datetime_time_format":"h_mm_ss_A","required":"0","unique":"0","datetime_repeatable":"0","datetime_time_format_24":"hh_mm","datetime_allow_empty":"1","datetime_html5":"0"},"modified":{"id":653,"name":"modified","label":"Date Modified","description":"","help":"","class":"","type":"datetime","weight":3,"pick_object":"","pick_val":"","sister_id":"","datetime_format":"ymd_slash","datetime_time_type":"12","datetime_time_format":"h_mm_ss_A","required":"0","unique":"0","datetime_repeatable":"0","datetime_time_format_24":"hh_mm","datetime_allow_empty":"1","datetime_html5":"0"},"permalink":{"id":655,"name":"permalink","label":"Permalink","description":"Leave blank to auto-generate from Name","help":"","class":"","type":"slug","weight":4,"pick_object":"","pick_val":"","sister_id":"","required":"0","unique":"0"},"grades":{"id":662,"name":"grades","label":"Grades","description":"","help":"","class":"","type":"text","weight":5,"pick_object":"","pick_val":"","sister_id":"","required":"0","unique":"0","text_allow_shortcode":"0","text_allow_html":"0","text_allowed_html_tags":"strong em a ul ol li b i","text_max_length":"255","admin_only":"0","restrict_role":"0","restrict_capability":"0","hidden":"0","read_only":"0","roles_allowed":["administrator"],"text_repeatable":"0"},"start_date":{"id":669,"name":"start_date","label":"Start Date","description":"","help":"","class":"","type":"date","weight":6,"pick_object":"","pick_val":"","sister_id":"","required":"0","unique":"0","date_format":"fjsy","date_allow_empty":"1","date_html5":"0","admin_only":"0","restrict_role":"0","restrict_capability":"0","hidden":"0","read_only":"0","roles_allowed":["administrator"],"date_repeatable":"0"},"end_date":{"id":670,"name":"end_date","label":"End Date","description":"","help":"","class":"","type":"date","weight":7,"pick_object":"","pick_val":"","sister_id":"","required":"0","unique":"0","date_format":"fjsy","date_allow_empty":"1","date_html5":"0","admin_only":"0","restrict_role":"0","restrict_capability":"0","hidden":"0","read_only":"0","roles_allowed":["administrator"],"date_repeatable":"0"},"times":{"id":664,"name":"times","label":"Times","description":"","help":"","class":"","type":"text","weight":8,"pick_object":"","pick_val":"","sister_id":"","required":"0","unique":"0","text_allow_shortcode":"0","text_allow_html":"0","text_allowed_html_tags":"strong em a ul ol li b i","text_max_length":"255","admin_only":"0","restrict_role":"0","restrict_capability":"0","hidden":"0","read_only":"0","roles_allowed":["administrator"],"text_repeatable":"0"},"description":{"id":665,"name":"description","label":"Description","description":"","help":"","class":"","type":"wysiwyg","weight":9,"pick_object":"","pick_val":"","sister_id":"","required":"0","unique":"0","wysiwyg_editor":"tinymce","wysiwyg_media_buttons":"1","wysiwyg_oembed":"0","wysiwyg_wptexturize":"1","wysiwyg_convert_chars":"1","wysiwyg_wpautop":"1","wysiwyg_allow_shortcode":"0","admin_only":"0","restrict_role":"0","restrict_capability":"0","hidden":"0","read_only":"0","roles_allowed":["administrator"],"wysiwyg_repeatable":"0","wysiwyg_allowed_html_tags":""},"registration_url":{"id":766,"name":"registration_url","label":"Registration Url","description":"Only if Registration url is different than url spcified in Camp Location.","help":"","class":"","type":"text","weight":10,"pick_object":"","pick_val":"","sister_id":"","required":"0","unique":"0","text_allow_shortcode":"0","text_allow_html":"0","text_allowed_html_tags":"strong em a ul ol li b i","text_max_length":"255","admin_only":"0","restrict_role":"0","restrict_capability":"0","hidden":"0","read_only":"0","roles_allowed":["administrator"],"text_repeatable":0}},"show_in_menu":"1","label_singular":"Camp","pod_index":"name","hierarchical":"0","ui_style":"post_type","menu_position":"0","ui_actions_enabled":["add","edit","duplicate","delete"],"ui_reorder_field":"menu_order","ui_fields_manage":{"0":"name","1":"camp_location","5":"grades","6":"start_date","7":"end_date","8":"times"}}},"templates":{"camplist":{"id":673,"name":"camplist","code":"<div class=\"campListItem\">\r\n    <h3>{@name}<\/h3>\r\n    <span class=\"campLocation\">Location: {@camp_location} \r\n        \r\n        <a class=\"button campRegister\" href=\"\r\n        <?php if ( 0 < strlen( $obj->field( 'registration_url' ) ) ) { ?>\r\n        {@registration_url}\r\n        <?php } else { ?>\r\n        {@camp_location.url}\r\n        <?php } ?>\r\n        \" target=\"_blank\"><span><\/span>Register<\/a>\r\n    \r\n    <\/span>\r\n    <span>{@grades}<\/span> |\r\n    <span>{@start_date} - {@end_date}<\/span> |\r\n    <span>{@times}<\/span>\r\n    <p>{@description}<\/p>\r\n<\/div>\r\n<br\/>","type":"template","slug":"camplist","options":{"_edit_last":"2","_edit_lock":"1490458272:2","admin_only":"","restrict_capability":"","capability_allowed":"","pod_reference":"a:1:{s:3:\"pod\";s:0:\"\";}"}}},"pages":{"camps\/*":{"id":683,"name":"camps\/*","code":"<h1>Summer Camps<\/h1>\r\n<div>\r\n    <ul class=\"buttons\">\r\n        <li><a class=\"button-color\" href=\"\/camps\"><span><\/span>All<\/a><\/li>\r\n\r\n        <?php\r\n        \/\/ Grab the pod records\r\n        $camp_locations_params = array(\r\n          'limit'   => -1  \/\/ Return all rows\r\n        );\r\n        $pod_camp_locations = pods( 'camp_location', $camp_locations_params );\r\n        while ( $pod_camp_locations->fetch() ) {\r\n          \/\/ Grab the pod records\r\n          $params = array( 'orderby' => 'camp_location.name ASC, start_date ASC', 'where'   => 'camp_location.name = \"' . $pod_camp_locations->field( 'name' ) . '\"', 'limit' => -1);\r\n          $pod_camps = pods( 'camp', $params ); \/\/ Maps to the new find method\r\n\r\n          $total_rows = $pod_camps->total_found();\r\n          if($total_rows > 0) {\r\n            echo '<li><a class=\"button-color\" href=\"\/camps\/' . $pod_camp_locations->field( 'permalink' ) . '\"><span><\/span>' . $pod_camp_locations->display( 'name' ) . '<\/a><\/li>';\r\n          }\r\n        }\r\n\r\n        ?>\r\n\r\n    <\/ul>\r\n<\/div>\r\n<div class=\"pad-top-30\">\r\n<?php\r\n\/\/ Get the URL\r\n    function curPageURL() {\r\n     $pageURL = 'http';\r\n     if ($_SERVER[\"HTTPS\"] == \"on\") {$pageURL .= \"s\";}\r\n     $pageURL .= \":\/\/\";\r\n     if ($_SERVER[\"SERVER_PORT\"] != \"80\") {\r\n      $pageURL .= $_SERVER[\"SERVER_NAME\"].\":\".$_SERVER[\"SERVER_PORT\"].$_SERVER[\"REQUEST_URI\"];\r\n     } else {\r\n      $pageURL .= $_SERVER[\"SERVER_NAME\"].$_SERVER[\"REQUEST_URI\"];\r\n     }\r\n     return $pageURL;\r\n    }\r\n    \/\/ Parse the URL to get the last part of Path which in this case is the genre permalink\r\n    $parts=parse_url(curPageURL());\r\n    $path_parts=explode('\/', $parts['path']);\r\n    $location_url =  $path_parts[count($path_parts)-1];\r\n\r\n    \/\/ Grab the pod records\r\n    $params = array( 'orderby' => 'start_date ASC', 'where'   => 'camp_location.permalink = \"' . $location_url . '\"', 'limit' => -1 ); \/\/ Get 12 records per page, ordered by name ascending\r\n    $pod_camps = pods( 'camp', $params ); \/\/ Maps to the new find method\r\n    echo '<h2>' . $pod_camps->display( 'camp_location.name' ) . '<\/h2>';\r\n    echo $pod_camps->find( $params )->template( 'camplist' ); \/\/ Display it to the template\r\n    \/\/echo $pod_camps->pagination(); \/\/ Display the pagination\r\n    ?>\r\n<\/div>\r\n","type":"page","slug":"camps","options":{"_edit_last":"2","_edit_lock":"1463018917:2","page_title":"","precode":"","page_template":"page-pods.php","pod":"0","pod_slug":"","admin_only":"","restrict_role":"","roles_allowed":"","restrict_capability":"","capability_allowed":"","restrict_redirect":"","restrict_redirect_login":"","restrict_redirect_url":""}},"Camps":{"id":666,"name":"Camps","code":"<h1>Summer Camps<\/h1>\r\n<div>\r\n    <ul class=\"buttons\">\r\n        <li><a class=\"button-color\" href=\"\/camps\"><span><\/span>All<\/a><\/li>\r\n\r\n        <?php\r\n        \/\/ Grab the pod records\r\n        $camp_locations_params = array(\r\n          'limit'   => -1  \/\/ Return all rows\r\n        );\r\n        $pod_camp_locations = pods( 'camp_location', $camp_locations_params );\r\n        while ( $pod_camp_locations->fetch() ) {\r\n          \/\/ Grab the pod records\r\n          $params = array( 'orderby' => 'camp_location.name ASC, start_date ASC', 'where'   => 'camp_location.name = \"' . $pod_camp_locations->field( 'name' ) . '\"', 'limit' => -1);\r\n          $pod_camps = pods( 'camp', $params ); \/\/ Maps to the new find method\r\n\r\n          $total_rows = $pod_camps->total_found();\r\n          if($total_rows > 0) {\r\n            echo '<li><a class=\"button-color\" href=\"\/camps\/' . $pod_camp_locations->field( 'permalink' ) . '\"><span><\/span>' . $pod_camp_locations->display( 'name' ) . '<\/a><\/li>';\r\n          }\r\n        }\r\n\r\n        ?>\r\n\r\n    <\/ul>\r\n<\/div>\r\n<div class=\"pad-top-30\">\r\n\r\n    <?php\r\n      \/\/ Grab the pod records\r\n      $camp_locations_params = array(\r\n          'limit'   => -1  \/\/ Return all rows\r\n      );\r\n      $pod_camp_locations = pods( 'camp_location', $camp_locations_params );\r\n      while ( $pod_camp_locations->fetch() ) {\r\n        \/\/ Grab the pod records\r\n        $params = array( 'orderby' => 'camp_location.name ASC, start_date ASC', 'where'   => 'camp_location.name = \"' . $pod_camp_locations->field( 'name' ) . '\"', 'limit' => -1);\r\n        $pod_camps = pods( 'camp', $params ); \/\/ Maps to the new find method\r\n\r\n        $total_rows = $pod_camps->total_found();\r\n        if($total_rows > 0) {\r\n          echo '<h2 class=\"campLocationTitle\">' . $pod_camp_locations->display( 'name' ) . '<\/h2>';\r\n          echo $pod_camps->find( $params )->template( 'camplist' ); \/\/ Display it to the template\r\n        }\r\n      }\r\n    ?>\r\n\r\n\r\n<\/div>\r\n","type":"page","slug":"666","options":{"_edit_lock":"1490458510:2","_edit_last":"2","page_title":"","precode":"","page_template":"page-pods.php","pod":"0","pod_slug":"","admin_only":"","restrict_role":"","roles_allowed":"","restrict_capability":"","capability_allowed":"","restrict_redirect":"","restrict_redirect_login":"","restrict_redirect_url":""}}}}
